import{_ as e,o as a,c as s,Q as o}from"./chunks/framework.a7175731.js";const l="/assets/image-20240305160328869.1fc86697.png",t="/assets/image-20240305155703335.0a39ea4c.png",r="/assets/image-20240304110909498.dbf971f5.png",i="/assets/image-20230425214353102.065aac8d.png",n="/assets/image-20240304110805282.68f13400.png",p="/assets/image-20240304223149036.f6def4b4.png",S=JSON.parse('{"title":"CesiumJS --ç¬”è®°","description":"","frontmatter":{},"headers":[],"relativePath":"GIS/Cesium/CesiumJS/CesiumJS.md","filePath":"GIS/Cesium/CesiumJS/CesiumJS.md","lastUpdated":null}'),c={name:"GIS/Cesium/CesiumJS/CesiumJS.md"},m=o('<h1 id="cesiumjs-ç¬”è®°" tabindex="-1">CesiumJS --ç¬”è®° <a class="header-anchor" href="#cesiumjs-ç¬”è®°" aria-label="Permalink to &quot;CesiumJS --ç¬”è®°&quot;">â€‹</a></h1><h2 id="ä¸€ã€viewerç±»" tabindex="-1">ä¸€ã€Viewerç±» <a class="header-anchor" href="#ä¸€ã€viewerç±»" aria-label="Permalink to &quot;ä¸€ã€Viewerç±»&quot;">â€‹</a></h2><p><img src="'+l+'" alt="image-20240305160328869"></p><p><img src="'+t+`" alt="image-20240305155703335"></p><ol><li><strong>Primitivesï¼ˆåŸºå…ƒï¼‰</strong>ï¼š <ul><li><code>Primitives</code> æ˜¯ Cesium ä¸­çš„åŸå§‹å‡ ä½•å›¾å…ƒï¼Œä¾‹å¦‚ç‚¹ã€çº¿ã€å¤šè¾¹å½¢ç­‰ï¼Œå®ƒä»¬å¯ä»¥ç›´æ¥æ·»åŠ åˆ°åœºæ™¯ä¸­ã€‚</li><li>æ¯ä¸ª <code>Primitive</code> å¯¹è±¡ä»£è¡¨ä¸€ä¸ªå•ç‹¬çš„å‡ ä½•ä½“ï¼Œé€šå¸¸æ˜¯é™æ€çš„ï¼Œä¸èƒ½åŠ¨æ€æ›´æ–°ã€‚å› æ­¤ï¼Œå¯¹äºé¢‘ç¹æ›´æ–°çš„æ•°æ®ï¼Œä¸é€‚åˆä½¿ç”¨ <code>Primitives</code>ã€‚</li><li><code>Primitives</code> é€‚åˆäºåŠ è½½ç›¸å¯¹ç®€å•çš„å‡ ä½•ä½“ï¼Œä¾‹å¦‚åœ°å›¾æ ‡è®°ã€ç®€å•çš„è¾¹ç•Œç­‰ã€‚</li></ul></li><li><strong>Datasourcesï¼ˆæ•°æ®æºï¼‰</strong>ï¼š <ul><li><code>Datasources</code> å…è®¸åŠ è½½æ›´å¤æ‚çš„åœ°ç†ç©ºé—´æ•°æ®ï¼Œä¾‹å¦‚ GeoJSONã€KMLã€GPX ç­‰æ ¼å¼çš„æ•°æ®ï¼Œç”šè‡³æ”¯æŒåŠ è½½ 3D Tiles ç­‰å¤§è§„æ¨¡ã€å¤æ‚çš„æ•°æ®é›†ã€‚</li><li><code>Datasources</code> å…è®¸åŠ¨æ€æ·»åŠ ã€ç§»é™¤å’Œæ›´æ–°æ•°æ®ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨äºå®æ—¶æˆ–åŠ¨æ€æ›´æ–°çš„æ•°æ®å±•ç¤ºã€‚</li><li>Cesium æä¾›äº†ä¸°å¯Œçš„æ•°æ®æºç±»ï¼ˆå¦‚ <code>GeoJsonDataSource</code>ã€<code>KmlDataSource</code> ç­‰ï¼‰ï¼Œæ–¹ä¾¿å¼€å‘è€…åŠ è½½ä¸åŒæ ¼å¼çš„æ•°æ®ã€‚</li></ul></li></ol><h2 id="äºŒã€datasourcedispalyç±»" tabindex="-1">äºŒã€dataSourceDispalyç±» <a class="header-anchor" href="#äºŒã€datasourcedispalyç±»" aria-label="Permalink to &quot;äºŒã€dataSourceDispalyç±»&quot;">â€‹</a></h2><blockquote><p><a href="https://sandcastle.cesium.com/index.html?src=CZML.html&amp;label=DataSources" target="_blank" rel="noreferrer">https://sandcastle.cesium.com/index.html?src=CZML.html&amp;label=DataSources</a></p></blockquote><p>å¯è§†åŒ–DataSourceå®ä¾‹çš„é›†åˆã€‚å¹¶å¯é€šè¿‡viewerç›´æ¥è®¿é—®dataSourceså¹¶æ·»åŠ æ¨¡å‹ï¼Œå¦‚ä¸‹ç¤ºä¾‹</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">viewer.dataSources.</span><span style="color:#B392F0;">add</span><span style="color:#E1E4E8;">(</span></span>
<span class="line"><span style="color:#E1E4E8;">    Cesium.CzmlDataSource.</span><span style="color:#B392F0;">load</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;../SampleData/simple.czml&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">viewer.dataSources.</span><span style="color:#6F42C1;">add</span><span style="color:#24292E;">(</span></span>
<span class="line"><span style="color:#24292E;">    Cesium.CzmlDataSource.</span><span style="color:#6F42C1;">load</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;../SampleData/simple.czml&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">);</span></span></code></pre></div><p>ğŸ’¡ <code>å…¶ä¸­dataSourceså¯åŠ è½½é»˜è®¤çš„CzmlDataSourceã€GeoJsonDataSourceã€GpxDataSource å’Œ KmlDataSource</code></p><p>ğŸ’¡ <code>defaultDataSourceå¯åŠ è½½é»˜è®¤çš„entitiesï¼ˆentityCollectionï¼‰ï¼Œå¹¶é€šè¿‡entityCollection.add() åŠ è½½å…·ä½“entity</code></p><p>ğŸ’¡ viewer/Entitiesä½œç”¨</p><ul><li>æ–¹ä¾¿åˆ›å»ºç›´è§‚çš„å¯¹è±¡ï¼ŒåŒæ—¶åšåˆ°æ€§èƒ½ä¼˜åŒ–ï¼ˆbillboardï¼Œpointç­‰ï¼‰</li><li>æä¾›ä¸€äº›æ–¹ä¾¿ä½¿ç”¨çš„å‡½æ•°ï¼šflyTo/zoomTo</li><li>èµ‹äºˆEntityå¯¹è±¡æ—¶é—´è¿™ä¸ªå±æ€§ï¼Œå¯¹è±¡å…·å¤‡åŠ¨æ€ç‰¹æ€§/Primitiveä¸å…·å¤‡</li><li>æä¾›ä¸€äº›UIï¼ˆhomeButton/sceneModePicker/projectionPicker/baseLayerPickerï¼‰</li><li>å¤§é‡çš„å¿«æ·æ–¹å¼ï¼Œå¦‚viewer.camera</li><li>dataSourceå¯åŠ è½½å¤§è§„æ¨¡æ•°æ®ï¼Œå¦‚Geojson</li></ul><h2 id="ä¸‰ã€cesiumwidget-viewerç±»" tabindex="-1">ä¸‰ã€CesiumWidget &amp; Viewerç±» <a class="header-anchor" href="#ä¸‰ã€cesiumwidget-viewerç±»" aria-label="Permalink to &quot;ä¸‰ã€CesiumWidget  &amp;  Viewerç±»&quot;">â€‹</a></h2><p>ğŸ’¡ ä¸¤ä¸ªç±»åŒæ ·å¯ä»¥é€šè¿‡divå®ä¾‹åŒ–ä¸€ä¸ªåœºæ™¯ï¼ŒViewerç±»å®ä¾‹åä¼šè‡ªåŠ¨åˆ›å»ºå¸¦æœ‰UIç­‰å·¥å…·çš„åœºæ™¯ï¼Œä»¥åŠä¼šå¸¦æœ‰dataSourceï¼Œè€ŒCesiumWidgetåªä¼šæœ‰ä¸€ä¸ªä¸‰ç»´åœ°å›¾çš„åœºæ™¯ï¼Œæ²¡æœ‰ä»»ä½•UIå·¥å…·</p><p>ğŸ“– Cesiumä¸­æ‰€æœ‰æ¶‰åŠåœºæ™¯çš„éƒ½åœ¨sceneä¸­å¤„ç†ï¼Œå†æœ‰å°±æ˜¯æœ€å¤–å±‚çš„skyboxå¤©ç©ºç›’ï¼ˆå›¾ç‰‡å›´æˆï¼‰</p><p><img src="`+r+'" alt="image-20240304110909498"></p><h2 id="å››ã€å°éƒ¨ä»¶å·¥å…·" tabindex="-1">å››ã€å°éƒ¨ä»¶å·¥å…· <a class="header-anchor" href="#å››ã€å°éƒ¨ä»¶å·¥å…·" aria-label="Permalink to &quot;å››ã€å°éƒ¨ä»¶å·¥å…·&quot;">â€‹</a></h2><p>Timeline</p><p><img src="'+i+'" alt="image-20230425214353102"></p><p>å¯ä»¥æ§åˆ¶æ—¶é—´å‰è¿›å€’é€€ï¼Œå€é€Ÿï¼Œæ¯”å¦‚å¯ä»¥çœ‹åˆ°æ˜Ÿè¾°çš„å˜åŒ–</p><h2 id="äº”ã€scene" tabindex="-1">äº”ã€Scene <a class="header-anchor" href="#äº”ã€scene" aria-label="Permalink to &quot;äº”ã€Scene&quot;">â€‹</a></h2><p>Sceneå†…ç½®äº†å›¾å…ƒï¼Œå¦‚globeã€skyboxã€sun å’Œ moonç­‰ï¼Œè¿˜æœ‰ä¸¤ä¸ªç”¨æˆ·è‡ªè¡Œæ§åˆ¶å­˜æ”¾å¯¹è±¡çš„æ•°ç»„ï¼Œprimitivesï¼ˆéè´´åœ°å›¾å…ƒï¼‰ å’Œ groundPrimitivesè´´åœ°å›¾å…ƒã€‚</p><p>ğŸ’¡ å›¾å…ƒæ˜¯Cesiumç”¨æ¥ç»˜åˆ¶ä¸‰ç»´å¯¹è±¡çš„ç‹¬ç«‹ç»“æ„ã€‚å…·ä½“çš„å›¾å…ƒç±»å¦‚ä¸‹ğŸŒŸ</p><p>ğŸ’¡ å›¾å…ƒæ²¡æœ‰åŸºç±»ï¼Œæ‰€æœ‰çš„å›¾å…ƒéƒ½æœ‰updateå‡½æ•°ã€‚</p><p>ğŸ’¡ å›¾å…ƒæ˜¯ä¸€ç±»å¯¹è±¡ç»˜åˆ¶çš„é›†åˆï¼Œå¯åŒ…å«å¤šä¸ªWebGLçš„drawcall</p><p><img src="'+n+'" alt="image-20240304110805282"></p><p>ğŸ’¡ è¡¥å…… Cesium3DTileset ä¹Ÿæ˜¯å›¾å…ƒçš„ä¸€ç§</p><p><img src="'+p+`" alt="image-20240304223149036"></p><p>å…¶ä¸­Globeæ˜¯å…¨çƒåœ°å½¢ï¼Œéœ€è¦ä¸¤ä¸ªä¸œè¥¿ï¼Œåœ°å½¢é«˜ç¨‹ä¿¡æ¯ å’Œ å½±åƒå›¾å±‚ï¼ˆå¯å åŠ å¤šå±‚ï¼‰ã€‚ä¸¤è€…éƒ½æ˜¯æ¸è¿›å¼åŠ è½½ï¼Œå³è§†çº¿èƒ½çœ‹åˆ°çš„åœ°æ–¹æ‰ä¼šè°ƒåº¦åŠ è½½ã€‚</p><h2 id="å…­ã€å…·ä½“æ¨¡å‹" tabindex="-1">å…­ã€å…·ä½“æ¨¡å‹ <a class="header-anchor" href="#å…­ã€å…·ä½“æ¨¡å‹" aria-label="Permalink to &quot;å…­ã€å…·ä½“æ¨¡å‹&quot;">â€‹</a></h2><h3 id="_3dmodel-å¦‚gltfã€3dtiles" tabindex="-1">3Dmodelï¼ˆå¦‚gltfã€3dTilesï¼‰ <a class="header-anchor" href="#_3dmodel-å¦‚gltfã€3dtiles" aria-label="Permalink to &quot;3Dmodelï¼ˆå¦‚gltfã€3dTilesï¼‰&quot;">â€‹</a></h3><p>colorBlendMode å¯è®¾ç½®é¢œè‰²çš„æ··åˆæ¨¡å¼ã€‚alpha å’Œ mix å¯è®¾ç½® é€æ˜åº¦ å’Œ æ··åˆåº¦ã€‚</p><h2 id="ä¸ƒã€å›ºå®šè§†è§’viewer-scene-camera" tabindex="-1">ä¸ƒã€å›ºå®šè§†è§’viewer.scene.camera <a class="header-anchor" href="#ä¸ƒã€å›ºå®šè§†è§’viewer-scene-camera" aria-label="Permalink to &quot;ä¸ƒã€å›ºå®šè§†è§’viewer.scene.camera&quot;">â€‹</a></h2><h3 id="camera" tabindex="-1">camera <a class="header-anchor" href="#camera" aria-label="Permalink to &quot;camera&quot;">â€‹</a></h3><p>camera.lookAtå›ºå®šè§‚å¯Ÿå¯¹è±¡ï¼Œå…¶ä»–ç±»ä¼¼ã€‚</p><p>viewer.camera å…¶å®æ˜¯viewer.scene.camera</p><h2 id="å…«ã€åæ ‡ç³»ç›¸å…³" tabindex="-1">å…«ã€åæ ‡ç³»ç›¸å…³ <a class="header-anchor" href="#å…«ã€åæ ‡ç³»ç›¸å…³" aria-label="Permalink to &quot;å…«ã€åæ ‡ç³»ç›¸å…³&quot;">â€‹</a></h2><h4 id="cesium-transforms-eastnorthuptofixedframe-origin-ellipsoid-result-â†’-matrix4" tabindex="-1">Cesium.Transforms.eastNorthUpToFixedFrame(origin, ellipsoid, result) â†’ <a href="https://cesium.com/learn/cesiumjs/ref-doc/Matrix4.html" target="_blank" rel="noreferrer">Matrix4</a> <a class="header-anchor" href="#cesium-transforms-eastnorthuptofixedframe-origin-ellipsoid-result-â†’-matrix4" aria-label="Permalink to &quot;Cesium.Transforms.eastNorthUpToFixedFrame(origin, ellipsoid, result) â†’ [Matrix4](https://cesium.com/learn/cesiumjs/ref-doc/Matrix4.html)&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">// Get the transform from local east-north-up at cartographic (0.0, 0.0) to Earth&#39;s fixed frame.</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">center</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Cesium.Cartesian3.</span><span style="color:#B392F0;">fromDegrees</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">0.0</span><span style="color:#E1E4E8;">, </span><span style="color:#79B8FF;">0.0</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">transform</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> Cesium.Transforms.</span><span style="color:#B392F0;">eastNorthUpToFixedFrame</span><span style="color:#E1E4E8;">(center);</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">// Get the transform from local east-north-up at cartographic (0.0, 0.0) to Earth&#39;s fixed frame.</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">center</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Cesium.Cartesian3.</span><span style="color:#6F42C1;">fromDegrees</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">0.0</span><span style="color:#24292E;">, </span><span style="color:#005CC5;">0.0</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">transform</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> Cesium.Transforms.</span><span style="color:#6F42C1;">eastNorthUpToFixedFrame</span><span style="color:#24292E;">(center);</span></span></code></pre></div><ul><li>è¿™æ®µä»£ç æ˜¯åˆ›å»ºä¸€ä¸ªå°†æœ¬åœ°åæ ‡ç³»ï¼ˆä¸œåŒ—å¤©åæ ‡ç³»ï¼‰è½¬æ¢ä¸ºå›ºå®šåæ ‡ç³»ï¼ˆå›ºå®šåœ¨åœ°çƒä¸Šï¼‰çš„è½¬æ¢çŸ©é˜µ</li><li>å…·ä½“è€Œè¨€ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå›ºå®šåæ ‡ç³»ï¼Œä½¿å…¶åŸç‚¹ä½äºç»åº¦ 0 åº¦ã€çº¬åº¦ 0 åº¦çš„ä½ç½®ï¼ˆCartesian3.fromDegrees(0.0, 0.0)ï¼‰ã€‚è¿™ä¸ªå›ºå®šåæ ‡ç³»æ˜¯ä¸€ä¸ªä¸œåŒ—å¤©åæ ‡ç³»ï¼Œä¸åœ°çƒè¡¨é¢å‚ç›´ã€‚<code>eastNorthUpToFixedFrame</code> æ–¹æ³•è¿”å›ä¸€ä¸ªå˜æ¢çŸ©é˜µï¼Œå¯ä»¥ç”¨å®ƒæ¥å°†ç›¸å¯¹äºè¯¥åŸç‚¹çš„æœ¬åœ°åæ ‡ç³»çš„ç‚¹æˆ–å‘é‡è½¬æ¢ä¸ºåœ°çƒä¸Šçš„å›ºå®šåæ ‡ç³»</li><li>å› æ­¤å¯ç”¨è¿™ä¸ªçŸ©é˜µå°†åœ¨ç›¸å¯¹äºç»™å®šç»çº¬åº¦åŸç‚¹çš„æœ¬åœ°åæ ‡ç³»ä¸­å®šä¹‰çš„ç‚¹æˆ–å‘é‡è½¬æ¢ä¸ºå›ºå®šåæ ‡ç³»ä¸­çš„ä½ç½®</li></ul><h2 id="ä¹ã€polylinesç›¸å…³" tabindex="-1">ä¹ã€Polylinesç›¸å…³ <a class="header-anchor" href="#ä¹ã€polylinesç›¸å…³" aria-label="Permalink to &quot;ä¹ã€Polylinesç›¸å…³&quot;">â€‹</a></h2><p>ğŸ’¡ PolylineCollectionå¯ä»¥åŒæ—¶æ¸²æŸ“å¤šæ¡æŠ˜çº¿ï¼Œæ€§èƒ½è¾ƒé«˜ï¼›å…¶ä»–ç±»å‹éƒ½æ˜¯å•ç‹¬æ¸²æŸ“æŸä¸ªæŠ˜çº¿ï¼Œçº¿æ¡è¿‡å¤šä¼šå¯¼è‡´æ¸²æŸ“æ€§èƒ½å—å½±å“ï¼›</p><h2 id="åã€propertyç›¸å…³" tabindex="-1">åã€Propertyç›¸å…³ <a class="header-anchor" href="#åã€propertyç›¸å…³" aria-label="Permalink to &quot;åã€Propertyç›¸å…³&quot;">â€‹</a></h2><blockquote><p><a href="https://sandcastle.cesium.com/index.html?src=Callback%20Property.html&amp;label=All" target="_blank" rel="noreferrer">https://sandcastle.cesium.com/index.html?src=Callback Property.html&amp;label=All</a></p></blockquote><h2 id="åä¸€ã€postprocess" tabindex="-1">åä¸€ã€PostProcess <a class="header-anchor" href="#åä¸€ã€postprocess" aria-label="Permalink to &quot;åä¸€ã€PostProcess&quot;">â€‹</a></h2><h2 id="åäºŒã€è°ƒè¯•ç”¨çš„å‡½æ•°" tabindex="-1">åäºŒã€è°ƒè¯•ç”¨çš„å‡½æ•° <a class="header-anchor" href="#åäºŒã€è°ƒè¯•ç”¨çš„å‡½æ•°" aria-label="Permalink to &quot;åäºŒã€è°ƒè¯•ç”¨çš„å‡½æ•°&quot;">â€‹</a></h2><p>ğŸ’¡ debugShowFramesPerSecond</p><p>æ˜¾ç¤ºæ¯ç§’å¸§æ•°å’Œå¸§ä¹‹é—´çš„æ—¶é—´</p><p>ğŸ’¡ tileset.debugShowBoundingVolume = true</p><p>æŒ‡å®š3Dtilesæ¨¡å‹æ˜¯å¦æ˜¾ç¤ºå¤–å›´åŒ…ç»œçº¿</p>`,51),d=[m];function u(h,y,E,g,f,b){return a(),s("div",null,d)}const _=e(c,[["render",u]]);export{S as __pageData,_ as default};
