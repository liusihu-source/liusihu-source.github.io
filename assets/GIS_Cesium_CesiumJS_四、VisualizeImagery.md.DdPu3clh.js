import{_ as i,c as a,a2 as e,o as t}from"./chunks/framework.BQmytedh.js";const l="/assets/image-20220323110400312.MK0K3C9f.png",n="/assets/image-20220323162950880.DTrJDB1f.png",r="/assets/image-20220323163007830.h9c3bzZd.png",c=JSON.parse('{"title":"VisualizeImagery","description":"","frontmatter":{},"headers":[],"relativePath":"GIS/Cesium/CesiumJS/四、VisualizeImagery.md","filePath":"GIS/Cesium/CesiumJS/四、VisualizeImagery.md","lastUpdated":1767767988000}'),h={name:"GIS/Cesium/CesiumJS/四、VisualizeImagery.md"};function p(k,s,d,g,E,o){return t(),a("div",null,s[0]||(s[0]=[e(`<h1 id="visualizeimagery" tabindex="-1">VisualizeImagery <a class="header-anchor" href="#visualizeimagery" aria-label="Permalink to &quot;VisualizeImagery&quot;">​</a></h1><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CesiumJS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> supports</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> drawing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> layering</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> high-resolution</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> imagery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (maps) from many services, including Cesium ion. Use Cesium ion to stream curated high resolution imagery or tile your own imagery layers from raster data to CesiumJS apps. Layers can be ordered and blended together. Each layer’s brightness, contrast, gamma, hue, and saturation can be dynamically changed. This tutorial introduces imagery layer concepts and the related CesiumJS APIs.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#translate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CesiumJS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 支持从包括</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cesium</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 在内的许多服务中绘制和分层高分辨率图像（地图）。使用</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Cesium</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ion</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 流式传输精选的高分辨率图像或将您自己的图像层从栅格数据平铺到</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CesiumJS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 应用程序。图层可以排序和混合在一起。每一层的亮度、对比度、伽玛、色调和饱和度都可以动态改变。本教程介绍图像层概念和相关的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CesiumJS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> API。</span></span></code></pre></div><p>前言</p><p>可以在<code>Cesium ion</code>上传影像，之后通过 <code>Open complete code example</code> 查看自己上传的东西</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Grant CesiumJS access to your ion assets</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cesium.Ion.defaultAccessToken </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhYjIyNDk5Ni1hNmFlLTQyNzctOGMwOS1hYWU4NmEyMjcxZTEiLCJpZCI6NDM0MjEsImlhdCI6MTYxNTcyNDg5NH0.fyGAT3jkTTGTMKbvXAllYNUvXbU9qwcTMkhLEXcD9Rc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> viewer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Viewer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;cesiumContainer&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> imageryLayer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewer.imageryLayers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IonImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ assetId: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">890134</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">zoomTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(imageryLayer);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})();</span></span></code></pre></div><p><img src="`+l+`" alt="image-20220323110400312"></p><ul><li>支持的影像数据格式</li></ul><table tabindex="0"><thead><tr><th style="text-align:left;">format</th><th style="text-align:left;">file extensions</th></tr></thead><tbody><tr><td style="text-align:left;">GeoTIFF</td><td style="text-align:left;">.tiff, .tif</td></tr><tr><td style="text-align:left;">Floating Point Raster</td><td style="text-align:left;">.flt</td></tr><tr><td style="text-align:left;">Arc/Info ASCII Grid</td><td style="text-align:left;">.asc</td></tr><tr><td style="text-align:left;">Source Map</td><td style="text-align:left;">.src</td></tr><tr><td style="text-align:left;">Erdas Imagine</td><td style="text-align:left;">.img</td></tr><tr><td style="text-align:left;">USGS ASCII DEM and CDED</td><td style="text-align:left;">.dem</td></tr><tr><td style="text-align:left;">JPEG</td><td style="text-align:left;">.jpg, .jpeg</td></tr><tr><td style="text-align:left;">PNG</td><td style="text-align:left;">.png</td></tr><tr><td style="text-align:left;">Other common raster formats</td><td style="text-align:left;"></td></tr></tbody></table><p>Imagery files must be georeferenced before being loaded into Cesium ion. （必须先配准好）</p><ul><li>Files may be zipped.</li><li>Include any sidecar files when uploading (such as .aux, .xml, .tab, .tfw, .wld, .prj, .ovr, .rrd).</li><li>Uploaded imagery is automatically reprojected to EPSG:3857.</li></ul><h2 id="一、quick-start" tabindex="-1">一、Quick Start <a class="header-anchor" href="#一、quick-start" aria-label="Permalink to &quot;一、Quick Start&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Your access token can be found at: https://cesium.com/ion/tokens.</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// This is the default access token from your ion account</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Cesium.Ion.defaultAccessToken </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhYjIyNDk5Ni1hNmFlLTQyNzctOGMwOS1hYWU4NmEyMjcxZTEiLCJpZCI6NDM0MjEsImlhdCI6MTYxNTcyNDg5NH0.fyGAT3jkTTGTMKbvXAllYNUvXbU9qwcTMkhLEXcD9Rc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewer </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Viewer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cesiumContainer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    imageryProvider : Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">createWorldImagery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        style : Cesium.IonWorldImageryStyle.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">AERIAL_WITH_LABELS</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        //only AERIAL, AERIAL_WITH_LABELS, and ROAD are currently supported.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    baseLayerPicker : </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    //imageryProvider  只有在baseLayerPicker为false时候有效，</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> layers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viewer.scene.imageryLayers;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> blackMarble </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> layers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IonImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ assetId: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3812</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blackMarble.alpha </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0.0 is transparent.  1.0 is opaque.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">blackMarble.brightness </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &gt; 1.0 increases brightness.  &lt; 1.0 decreases.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">layers.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Cesium.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SingleTileImageryProvider</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    url : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;localhost:7080/img/test.jpg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rectangle : Cesium.Rectangle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fromDegrees</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">75.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">28.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">67.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">29.75</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}));</span></span></code></pre></div><ul><li>可以通过创建viewer对象时候，就直接设置imageryProvider属性</li><li>可以后面通过viewer.scene获取到当前的imageryLayers，然后通过addImageryProvider方法添加新的底图图层，添加的这些图层可以是以下这些类型 <ul><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/ArcGisMapServerImageryProvider.html" target="_blank" rel="noreferrer">ArcGisMapServerImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/BingMapsImageryProvider.html" target="_blank" rel="noreferrer">BingMapsImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/OpenStreetMapImageryProvider.html" target="_blank" rel="noreferrer">OpenStreetMapImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/TileMapServiceImageryProvider.html" target="_blank" rel="noreferrer">TileMapServiceImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/GoogleEarthEnterpriseImageryProvider.html" target="_blank" rel="noreferrer">GoogleEarthEnterpriseImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/GoogleEarthEnterpriseMapsProvider.html" target="_blank" rel="noreferrer">GoogleEarthEnterpriseMapsProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/GridImageryProvider.html" target="_blank" rel="noreferrer">GridImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/IonImageryProvider.html" target="_blank" rel="noreferrer">IonImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/MapboxImageryProvider.html" target="_blank" rel="noreferrer">MapboxImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/MapboxStyleImageryProvider.html" target="_blank" rel="noreferrer">MapboxStyleImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/SingleTileImageryProvider.html" target="_blank" rel="noreferrer">SingleTileImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/TileCoordinatesImageryProvider.html" target="_blank" rel="noreferrer">TileCoordinatesImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/UrlTemplateImageryProvider.html" target="_blank" rel="noreferrer">UrlTemplateImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/WebMapServiceImageryProvider.html" target="_blank" rel="noreferrer">WebMapServiceImageryProvider</a></li><li><a href="https://cesium.com/learn/cesiumjs/ref-doc/WebMapTileServiceImageryProvider.html" target="_blank" rel="noreferrer">WebMapTileServiceImageryProvider</a></li></ul></li></ul><h2 id="二、cross-origin-resource-sharing" tabindex="-1">二、Cross-origin resource sharing <a class="header-anchor" href="#二、cross-origin-resource-sharing" aria-label="Permalink to &quot;二、Cross-origin resource sharing&quot;">​</a></h2><ul><li>支持跨域请求 <ul><li>用tomcat发布服务</li></ul></li></ul><h2 id="三、demo-可以实现的效果" tabindex="-1">三、demo（可以实现的效果） <a class="header-anchor" href="#三、demo-可以实现的效果" aria-label="Permalink to &quot;三、demo（可以实现的效果）&quot;">​</a></h2><p><a href="https://sandcastle.cesium.com/?src=Imagery%20Layers%20Manipulation.html" target="_blank" rel="noreferrer">https://sandcastle.cesium.com/?src=Imagery Layers Manipulation.html</a></p><p><img src="`+n+'" alt="image-20220323162950880"></p><p><a href="https://sandcastle.cesium.com/?src=Imagery%20Adjustment.html" target="_blank" rel="noreferrer">https://sandcastle.cesium.com/?src=Imagery Adjustment.html</a></p><p><img src="'+r+'" alt="image-20220323163007830"></p>',20)]))}const m=i(h,[["render",p]]);export{c as __pageData,m as default};
