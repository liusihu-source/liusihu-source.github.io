import{_ as s,o as a,c as l,Q as n}from"./chunks/framework.a7175731.js";const p="/assets/image-20231210125909584.ac84ada6.png",o="/assets/image-20231210133048852.e4559fce.png",t="/assets/image-20231210131329468.1d94ca5f.png",e="/assets/image-20231210134056380.29827fff.png",c="/assets/image-20231210141637300.eaed6536.png",r="/assets/image-20231210143711448.cc0961e3.png",E="/assets/image-20231210143110211.b4906ff9.png",C=JSON.parse('{"title":"BeautifulSoup --笔记","description":"","frontmatter":{},"headers":[],"relativePath":"python/python爬虫/BeautifulSoup.md","filePath":"python/python爬虫/BeautifulSoup.md","lastUpdated":null}'),y={name:"python/python爬虫/BeautifulSoup.md"},i=n('<h1 id="beautifulsoup-笔记" tabindex="-1">BeautifulSoup --笔记 <a class="header-anchor" href="#beautifulsoup-笔记" aria-label="Permalink to &quot;BeautifulSoup --笔记&quot;">​</a></h1><h2 id="一、安装beautifulsoup环境" tabindex="-1">一、安装BeautifulSoup环境 <a class="header-anchor" href="#一、安装beautifulsoup环境" aria-label="Permalink to &quot;一、安装BeautifulSoup环境&quot;">​</a></h2><p>💡 bs4 是一个第三方那个模块，通过pip安装</p><p>pycharm中 setting &gt; Project XXX &gt; Python Interpreter &gt; 通过 + 可下载对应的依赖包</p><p><img src="'+p+'" alt="image-20231210125909584"></p><h2 id="二、beautifulsoup解析器" tabindex="-1">二、BeautifulSoup解析器 <a class="header-anchor" href="#二、beautifulsoup解析器" aria-label="Permalink to &quot;二、BeautifulSoup解析器&quot;">​</a></h2><h3 id="_2-1-解析器的安装" tabindex="-1">2.1 解析器的安装 <a class="header-anchor" href="#_2-1-解析器的安装" aria-label="Permalink to &quot;2.1 解析器的安装&quot;">​</a></h3><ul><li>Bs4比Scrapy多了一个解析的过程，因此需要一个解析器 <ul><li>同样通过pip安装即可</li></ul></li></ul><p><img src="'+o+'" alt="image-20231210133048852"></p><ul><li>网络爬虫的最终目的是过滤选择网络信息，<code>解析器的忧虑决定了爬虫的速度 和 效率</code>。Bs4库支持的解析器有如下</li></ul><p><img src="'+t+`" alt="image-20231210131329468"></p><h3 id="_2-2-使用案例" tabindex="-1">2.2 使用案例 <a class="header-anchor" href="#_2-2-使用案例" aria-label="Permalink to &quot;2.2 使用案例&quot;">​</a></h3><h4 id="查找方式" tabindex="-1">查找方式 <a class="header-anchor" href="#查找方式" aria-label="Permalink to &quot;查找方式&quot;">​</a></h4><blockquote><p>💡 Bs4支持嵌套过滤，此外<code>支持通过标签名 和 标签属性查找</code>，注意用不同的find、find_all和for语句等组合方法查找需要的指定内容</p></blockquote><p><strong>scenery.html文件</strong></p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">charset</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;utf-8&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">              &lt;</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;武汉旅游景点&lt;/</span><span style="color:#85E89D;">title</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;description&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">content</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;武汉旅游景点 精简版&quot;</span><span style="color:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">          &lt;</span><span style="color:#85E89D;">meta</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">name</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;author&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">content</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;hstking&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;/</span><span style="color:#85E89D;">head</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">      &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;content&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;title&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;武汉景点 &lt;/</span><span style="color:#85E89D;">h2</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;table&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;景点 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;门票价格&lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;content&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">nu</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;1&quot;</span><span style="color:#E1E4E8;">&gt;东湖 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;price&quot;</span><span style="color:#E1E4E8;">&gt;60 &lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">nu</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;2&quot;</span><span style="color:#E1E4E8;">&gt;磨山 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;price&quot;</span><span style="color:#E1E4E8;">&gt;60 &lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">nu</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;3&quot;</span><span style="color:#E1E4E8;">&gt;欢乐谷 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;price&quot;</span><span style="color:#E1E4E8;">&gt;108 &lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">nu</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;4&quot;</span><span style="color:#E1E4E8;">&gt;海昌极地海洋世界 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;price&quot;</span><span style="color:#E1E4E8;">&gt;150 &lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">                 &lt;</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">nu</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;5&quot;</span><span style="color:#E1E4E8;">&gt;玛雅水上乐园 &lt;</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">class</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;price&quot;</span><span style="color:#E1E4E8;">&gt;i50 &lt;/</span><span style="color:#85E89D;">a</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">li</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">             &lt;/</span><span style="color:#85E89D;">ul</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">         &lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">     &lt;/</span><span style="color:#85E89D;">body</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">     &lt;/</span><span style="color:#85E89D;">html</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">charset</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;utf-8&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">              &lt;</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;武汉旅游景点&lt;/</span><span style="color:#22863A;">title</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;description&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">content</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;武汉旅游景点 精简版&quot;</span><span style="color:#24292E;"> /&gt;</span></span>
<span class="line"><span style="color:#24292E;">          &lt;</span><span style="color:#22863A;">meta</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">name</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;author&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">content</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;hstking&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;/</span><span style="color:#22863A;">head</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">      &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;content&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;title&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;武汉景点 &lt;/</span><span style="color:#22863A;">h2</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;table&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;景点 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;门票价格&lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;</span><span style="color:#22863A;">ul</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;content&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">nu</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;1&quot;</span><span style="color:#24292E;">&gt;东湖 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;price&quot;</span><span style="color:#24292E;">&gt;60 &lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">nu</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;2&quot;</span><span style="color:#24292E;">&gt;磨山 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;price&quot;</span><span style="color:#24292E;">&gt;60 &lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">nu</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;3&quot;</span><span style="color:#24292E;">&gt;欢乐谷 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;price&quot;</span><span style="color:#24292E;">&gt;108 &lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">nu</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;4&quot;</span><span style="color:#24292E;">&gt;海昌极地海洋世界 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;price&quot;</span><span style="color:#24292E;">&gt;150 &lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">                 &lt;</span><span style="color:#22863A;">li</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">nu</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;5&quot;</span><span style="color:#24292E;">&gt;玛雅水上乐园 &lt;</span><span style="color:#22863A;">a</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">class</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;price&quot;</span><span style="color:#24292E;">&gt;i50 &lt;/</span><span style="color:#22863A;">a</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">li</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">             &lt;/</span><span style="color:#22863A;">ul</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">         &lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">     &lt;/</span><span style="color:#22863A;">body</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">     &lt;/</span><span style="color:#22863A;">html</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><p>💡 Bs4中pritter()方法用于将 HTML 或 XML 结构化数据进行格式化，使其更易于阅读和理解。例如增加缩进和换行，使其呈现出良好的层次结构</p><p><strong>test.py</strong></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># -*- coding: utf-8 -*-</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> bs4 </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">soup </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> BeautifulSoup(</span><span style="color:#79B8FF;">open</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;scenery.html&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">encoding</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;utf-8&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#9ECBFF;">&#39;lxml&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(soup.prettify())</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># -*- coding: utf-8 -*-</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> bs4 </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">soup </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> BeautifulSoup(</span><span style="color:#005CC5;">open</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;scenery.html&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">encoding</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;utf-8&#39;</span><span style="color:#24292E;">), </span><span style="color:#032F62;">&#39;lxml&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(soup.prettify())</span></span></code></pre></div><p><img src="`+e+`" alt="image-20231210134056380"></p><p>💡 <code>BeautifulSoup(response.read(), ...)</code> 和 <code>BeautifulSoup(open(), ...)</code> 这两种方法有以下区别：</p><ol><li><strong><code>BeautifulSoup(response.read(), ...)</code></strong>： <ul><li>这种方法通常用于处理从网络请求（例如使用 <code>urllib</code> 或 <code>requests</code> 库获取的数据）返回的 HTML 内容。</li><li><code>response.read()</code> 会读取 HTTP 响应的内容（即 HTML 数据），然后将其传递给 <code>BeautifulSoup</code> 对象，用于解析和处理 HTML。</li></ul></li><li><strong><code>BeautifulSoup(open(), ...)</code></strong>： <ul><li>这种方法通常用于处理本地文件中的 HTML 或 XML 内容。</li><li><code>open()</code> 函数用于打开本地文件，读取其中的内容，并将内容传递给 <code>BeautifulSoup</code> 对象。</li></ul></li></ol><blockquote><p>通过BeautifulSoup类的方法如read或者 open得到bs4对象后，<code>bs4会将网页节点解析成一个个标签（Tag），同名的标签也会不同的属性，此外他们也有先后顺序 和 不同的父子标签，所以这些每个Tag都有自己的独特位置</code>。</p></blockquote><h4 id="find" tabindex="-1">find() <a class="header-anchor" href="#find" aria-label="Permalink to &quot;find()&quot;">​</a></h4><p>如下可通过soup.ul 或者 soup.find(&#39;ul&#39;)方法可以查找对应soup对象中的ul标签</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> bs4 </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">soup </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> BeautifulSoup(</span><span style="color:#79B8FF;">open</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;scenery.html&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">encoding</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;utf-8&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#9ECBFF;">&#39;lxml&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">soup.prettify()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(soup.find_all(</span><span style="color:#9ECBFF;">&#39;ul&#39;</span><span style="color:#E1E4E8;">))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> bs4 </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">soup </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> BeautifulSoup(</span><span style="color:#005CC5;">open</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;scenery.html&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">encoding</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;utf-8&#39;</span><span style="color:#24292E;">), </span><span style="color:#032F62;">&#39;lxml&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">soup.prettify()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(soup.find_all(</span><span style="color:#032F62;">&#39;ul&#39;</span><span style="color:#24292E;">))</span></span></code></pre></div><p><img src="`+c+'" alt="image-20231210141637300"></p><p>💡 find()方法 和 直接soup.ul两者间的区别</p><ol><li><strong><code>soup.ul</code></strong>： <ul><li>这种方式是通过属性访问直接获取 Beautiful Soup 对象中的第一个 <code>&lt;ul&gt;</code> 标签。</li><li>如果存在多个 <code>&lt;ul&gt;</code> 标签，这种方法只能获得第一个 <code>&lt;ul&gt;</code> 标签，不能获取其他的。</li></ul></li><li><strong><code>soup.find(&#39;ul&#39;)</code></strong>： <ul><li>这是 <code>find()</code> 方法的使用，用于显式地查找匹配的标签。</li><li>它能够查找文档中符合条件的所有 <code>&lt;ul&gt;</code> 标签，而不仅仅是第一个。</li></ul></li></ol><blockquote><p>但两者最终都只会返回一个标签结果，如需要多个标签结果，可使用find_all()</p></blockquote><p>此外find方法还可添加属性名 和 属性值 进而更加精确地定位到某个标签。如soup.find(TagName, attrs = {attrName: attrValue})，soup.find(&#39;li&#39;, attrs={&#39;nu&#39;: &#39;3&#39;})、soup.find_all(&#39;a&#39;, attrs={&#39;class&#39;:&#39;price&#39;})</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(soup.find(</span><span style="color:#9ECBFF;">&#39;li&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">attrs</span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;">{</span><span style="color:#9ECBFF;">&#39;nu&#39;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">}))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(soup.find(</span><span style="color:#032F62;">&#39;li&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">attrs</span><span style="color:#D73A49;">=</span><span style="color:#24292E;">{</span><span style="color:#032F62;">&#39;nu&#39;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">}))</span></span></code></pre></div><p><img src="'+r+`" alt="image-20231210143711448"></p><h4 id="find-all" tabindex="-1">find_all() <a class="header-anchor" href="#find-all" aria-label="Permalink to &quot;find_all()&quot;">​</a></h4><p>该方法可以获取到所有相同标签名相同的标签节点，并通过列表的形式获取到其中任意索引位置的标签。如soup.find_all(&#39;ul&#39;)[0]</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># -*- coding: utf-8 -*-</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> bs4 </span><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">soup </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> BeautifulSoup(</span><span style="color:#79B8FF;">open</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;scenery.html&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">encoding</span><span style="color:#F97583;">=</span><span style="color:#9ECBFF;">&#39;utf-8&#39;</span><span style="color:#E1E4E8;">), </span><span style="color:#9ECBFF;">&#39;lxml&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">soup.prettify()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(soup.find_all(</span><span style="color:#9ECBFF;">&#39;ul&#39;</span><span style="color:#E1E4E8;">))</span></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&#39;___________&#39;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#79B8FF;">print</span><span style="color:#E1E4E8;">(soup.find_all(</span><span style="color:#9ECBFF;">&#39;ul&#39;</span><span style="color:#E1E4E8;">)[</span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">])</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># -*- coding: utf-8 -*-</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">from</span><span style="color:#24292E;"> bs4 </span><span style="color:#D73A49;">import</span><span style="color:#24292E;"> BeautifulSoup</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">soup </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> BeautifulSoup(</span><span style="color:#005CC5;">open</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;scenery.html&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">encoding</span><span style="color:#D73A49;">=</span><span style="color:#032F62;">&#39;utf-8&#39;</span><span style="color:#24292E;">), </span><span style="color:#032F62;">&#39;lxml&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">soup.prettify()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(soup.find_all(</span><span style="color:#032F62;">&#39;ul&#39;</span><span style="color:#24292E;">))</span></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&#39;___________&#39;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#005CC5;">print</span><span style="color:#24292E;">(soup.find_all(</span><span style="color:#032F62;">&#39;ul&#39;</span><span style="color:#24292E;">)[</span><span style="color:#005CC5;">0</span><span style="color:#24292E;">])</span></span></code></pre></div><p><img src="`+E+'" alt="image-20231210143110211"></p><h4 id="get-get-text" tabindex="-1">get() &amp; get_text() <a class="header-anchor" href="#get-get-text" aria-label="Permalink to &quot;get() &amp; get_text()&quot;">​</a></h4><p>通过soup.find().get 或者 soup.find().get_text()方法可以获取到标签内的属性值 和 文本内容。</p>',39),u=[i];function d(g,F,h,f,B,q){return a(),l("div",null,u)}const _=s(y,[["render",d]]);export{C as __pageData,_ as default};
