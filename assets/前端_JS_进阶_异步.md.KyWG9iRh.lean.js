import{_ as i,c as a,a2 as n,o as l}from"./chunks/framework.BQmytedh.js";const g=JSON.parse('{"title":"å¼‚æ­¥","description":"","frontmatter":{},"headers":[],"relativePath":"å‰ç«¯/JS/è¿›é˜¶/å¼‚æ­¥.md","filePath":"å‰ç«¯/JS/è¿›é˜¶/å¼‚æ­¥.md","lastUpdated":1770013081000}'),h={name:"å‰ç«¯/JS/è¿›é˜¶/å¼‚æ­¥.md"};function k(p,s,t,e,r,E){return l(),a("div",null,s[0]||(s[0]=[n(`<h1 id="å¼‚æ­¥" tabindex="-1">å¼‚æ­¥ <a class="header-anchor" href="#å¼‚æ­¥" aria-label="Permalink to &quot;å¼‚æ­¥&quot;">â€‹</a></h1><h2 id="ä¸€ã€jså¼‚æ­¥ç¼–ç¨‹" tabindex="-1">ä¸€ã€JSå¼‚æ­¥ç¼–ç¨‹ <a class="header-anchor" href="#ä¸€ã€jså¼‚æ­¥ç¼–ç¨‹" aria-label="Permalink to &quot;ä¸€ã€JSå¼‚æ­¥ç¼–ç¨‹&quot;">â€‹</a></h2><h3 id="_1-1-jså•çº¿ç¨‹é—®é¢˜" tabindex="-1">1.1 JSå•çº¿ç¨‹é—®é¢˜ <a class="header-anchor" href="#_1-1-jså•çº¿ç¨‹é—®é¢˜" aria-label="Permalink to &quot;1.1 JSå•çº¿ç¨‹é—®é¢˜&quot;">â€‹</a></h3><ul><li><p>ä½œä¸ºæµè§ˆå™¨è„šæœ¬è¯­è¨€, å…¶ç›®çš„æ˜¯ç”¨æˆ·äº¤äº’, æ“ä½œ DOM;</p></li><li><p>è‹¥ä½¿ç”¨å¤šçº¿ç¨‹, ä¼šå¯¼è‡´ç”¨æˆ·äº¤äº’å’Œ DOM æ“ä½œçš„å†²çª, å¸¦æ¥å¤æ‚çš„çº¿ç¨‹åŒæ­¥é—®é¢˜;</p></li><li><p>å› æ­¤é€šè¿‡å¼‚æ­¥çš„æ–¹å¼é¿å…ä¸»çº¿ç¨‹å µå¡é—®é¢˜ï¼Œä¼˜åŒ–UIæ¸²æŸ“ï¼Œä¼˜åŒ–ä½“éªŒ;</p></li></ul><h3 id="_1-2-å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡" tabindex="-1">1.2 å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡ <a class="header-anchor" href="#_1-2-å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡" aria-label="Permalink to &quot;1.2 å¼‚æ­¥ä»»åŠ¡ä¸åŒæ­¥ä»»åŠ¡&quot;">â€‹</a></h3><ul><li>åŒæ­¥ä»»åŠ¡: ä¸»çº¿ç¨‹é¡ºåºæ’é˜Ÿæ‰§è¡Œ;</li><li>å¼‚æ­¥ä»»åŠ¡; <ul><li>åŸºäºä»»åŠ¡é˜Ÿåˆ—;</li><li>åœ¨å¯¹åº”å¼‚æ­¥æ“ä½œå®Œæˆå, æ”¾å…¥ä¸»çº¿ç¨‹æ‰§è¡Œ;</li><li>ä¸ä¼šå µå¡ä¸»çº¿ç¨‹;</li></ul></li></ul><h2 id="äºŒã€äº‹ä»¶å¾ªç¯" tabindex="-1">äºŒã€äº‹ä»¶å¾ªç¯ <a class="header-anchor" href="#äºŒã€äº‹ä»¶å¾ªç¯" aria-label="Permalink to &quot;äºŒã€äº‹ä»¶å¾ªç¯&quot;">â€‹</a></h2><blockquote><p>é€šè¿‡ä¸»çº¿ç¨‹, ä»»åŠ¡é˜Ÿåˆ—, å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡, å®ç°å¼‚æ­¥ç¼–ç¨‹;</p></blockquote><h3 id="_2-1-å®ä»»åŠ¡å¾®ä»»åŠ¡" tabindex="-1">2.1 å®ä»»åŠ¡å¾®ä»»åŠ¡ <a class="header-anchor" href="#_2-1-å®ä»»åŠ¡å¾®ä»»åŠ¡" aria-label="Permalink to &quot;2.1 å®ä»»åŠ¡å¾®ä»»åŠ¡&quot;">â€‹</a></h3><ul><li>å®ä»»åŠ¡: å®¿ä¸»å‘èµ·; <ul><li>script æ ‡ç­¾;</li><li>setXXX();</li><li>postMessage/MessageChannel;</li><li>IO æ“ä½œ;</li><li>UI Render;</li></ul></li><li>å¾®ä»»åŠ¡: js å‘èµ·; <ul><li>promise;</li><li>MutationObserver;</li><li>await/async;</li></ul></li></ul><h3 id="_2-2-äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº" tabindex="-1">2.2 äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº <a class="header-anchor" href="#_2-2-äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº" aria-label="Permalink to &quot;2.2 äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåº&quot;">â€‹</a></h3><ul><li>åŒæ­¥ä»£ç  (ä»…åœ¨ç¬¬ä¸€æ¬¡äº‹ä»¶å¾ªç¯);</li><li>å®ä»»åŠ¡;</li><li>å¾®ä»»åŠ¡;</li><li>requestAnimationRequest;</li><li>DOM æ¸²æŸ“;</li><li>requestCallbackIdle;</li></ul><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>- æ‰§è¡Œå…¨å±€ä¸»çº¿ç¨‹, é¡ºåºæ‰§è¡Œä¸»çº¿ç¨‹åŒæ­¥ä»£ç ;</span></span>
<span class="line"><span>  - ç¬¬äºŒæ¬¡äº‹ä»¶å¾ªç¯åæ— åŒæ­¥ä»£ç ;</span></span>
<span class="line"><span>  - é‡åˆ°å®ä»»åŠ¡, æ¨é€åˆ°å®ä»»åŠ¡é˜Ÿåˆ—, å¾®ä»»åŠ¡åŒç†;</span></span>
<span class="line"><span>- æ‰§è¡Œä¸»çº¿ç¨‹è¿‡ç¨‹ä¸­æ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—çš„å¾®ä»»åŠ¡ï¼Œæ¸…ç©ºåæ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ç¬¬ä¸€ä¸ªå®ä»»åŠ¡</span></span>
<span class="line"><span>- æ‰§è¡Œå®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—, æŒ‰å…¥é˜Ÿé¡ºåºæ‰§è¡Œç¬¬ä¸€ä¸ªå®ä»»åŠ¡;</span></span>
<span class="line"><span>- æ‰§è¡Œå®Œè¯¥å®ä»»åŠ¡, ç§»é™¤é˜Ÿåˆ—, æ ¹æ®å…¥é˜Ÿé¡ºåºæ‰§è¡Œå¾®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—, ç›´è‡³å¾®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©º;</span></span>
<span class="line"><span>- å¾®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºå, è¿›è¡Œæµè§ˆå™¨æ¸²æŸ“, æœ¬æ¬¡äº‹ä»¶å¾ªç¯ç»“æŸ;</span></span>
<span class="line"><span>- æ‰§è¡Œå®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—ä¸‹ä¸€ä¸ªå®ä»»åŠ¡, å¼€å§‹ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯, ç›´è‡³å®ä»»åŠ¡ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©º;</span></span></code></pre></div><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Start&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Macro Task 1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Micro Task 1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Micro Task 2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Macro Task 2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Micro Task 3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Micro Task 4&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;End&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>//è¿‡ç¨‹å¦‚ä¸‹</span></span>
<span class="line"><span>åŒæ­¥// è¾“å‡º: Start &gt;  </span></span>
<span class="line"><span>    æ³¨å†Œç¬¬ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆsetTimeoutçš„å›è°ƒï¼‰ï¼Œä½†è®¡æ—¶ä¸º 0 ä¹Ÿä¸æ˜¯ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ç­‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œè¿›å…¥äº‹ä»¶å¾ªç¯åå†å¤„ç†ã€‚æ³¨å†Œç¬¬äºŒä¸ªå®ä»»åŠ¡ï¼ˆç¬¬äºŒä¸ª setTimeoutçš„å›è°ƒï¼‰&gt;  </span></span>
<span class="line"><span>    æ³¨å†Œä¸€ä¸ªå¾®ä»»åŠ¡ &gt;</span></span>
<span class="line"><span>åŒæ­¥// è¾“å‡º: End</span></span>
<span class="line"><span></span></span>
<span class="line"><span>æ£€æŸ¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªå¾®ä»»åŠ¡è¾“å‡º: Micro Task 3;  åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆäº§ç”Ÿä¸€ä¸ªå¾®ä»»åŠ¡ï¼ˆ() =&gt; console.log(&#39;Micro Task 4&#39;)ï¼‰ï¼Œæ”¾å…¥å½“å‰å¾®ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾; ç»§ç»­å–å‡ºç¬¬äºŒä¸ªå¾®ä»»åŠ¡ è¾“å‡º: Micro Task 4</span></span>
<span class="line"><span></span></span>
<span class="line"><span>è¿›å…¥ä¸‹ä¸€è½®å®ä»»åŠ¡ï¼ˆä»å®ä»»åŠ¡é˜Ÿåˆ—å–ç¬¬ä¸€ä¸ª setTimeoutçš„å›è°ƒï¼‰&gt; console.log(&#39;Macro Task 1&#39;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ç„¶åæ³¨å†Œä¸¤ä¸ªå¾®ä»»åŠ¡ï¼ˆPromise.resolve().thençš„ä¸¤ä¸ªå›è°ƒï¼Œè¿›å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼‰, ä¸€æ¬¡æ‰§è¡Œä¸¤ä¸ªå¾®ä»»åŠ¡</span></span>
<span class="line"><span></span></span>
<span class="line"><span>å¾®ä»»åŠ¡é˜Ÿåˆ—æ¸…ç©ºï¼Œå†å–ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼ˆç¬¬äºŒä¸ª setTimeoutçš„å›è°ƒï¼‰</span></span></code></pre></div><p>ğŸ’¡ è®¡æ—¶å™¨SetXXX å…·æœ‰å•ç‹¬çº¿ç¨‹ç”¨äºè®¡æ—¶ï¼Œä¸æ–­éå†è®¡æ—¶å™¨åˆ¤æ–­æ˜¯å¦åˆ°è¾¾æ—¶é—´å¹¶æ¨é€åˆ°å®ä»»åŠ¡</p><h2 id="ä¸‰ã€promise" tabindex="-1">ä¸‰ã€Promise <a class="header-anchor" href="#ä¸‰ã€promise" aria-label="Permalink to &quot;ä¸‰ã€Promise&quot;">â€‹</a></h2><h3 id="_3-1-åŸºç¡€" tabindex="-1">3.1 åŸºç¡€ <a class="header-anchor" href="#_3-1-åŸºç¡€" aria-label="Permalink to &quot;3.1 åŸºç¡€&quot;">â€‹</a></h3><h4 id="å®šä¹‰-promise" tabindex="-1">å®šä¹‰ promise <a class="header-anchor" href="#å®šä¹‰-promise" aria-label="Permalink to &quot;å®šä¹‰ promise&quot;">â€‹</a></h4><ul><li>promise ä¸ºåŒæ­¥å¯¹è±¡, ä½†ä¹Ÿæ˜¯è¿æ¥å¼‚æ­¥å¯¹è±¡çš„åª’ä»‹;</li><li>pending, fulfilled å’Œ rejected ä¸‰ç§çŠ¶æ€, åˆ†åˆ«ä¸ºæ‰§è¡Œä¸­, æ‰§è¡ŒæˆåŠŸ, æ‰§è¡Œå¤±è´¥;</li><li>resolve() å’Œ reject() å¹¶ä¸ä¼šä½¿ promise ç›´æ¥è¿›å…¥æˆåŠŸæˆ–å¤±è´¥çŠ¶æ€, è€Œæ˜¯æ‰§è¡Œå®Œå‡½æ•°ä»£ç åè¿›å…¥å¯¹åº”çŠ¶æ€;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">());</span></span></code></pre></div><h4 id="ä½¿ç”¨-promise" tabindex="-1">ä½¿ç”¨ promise <a class="header-anchor" href="#ä½¿ç”¨-promise" aria-label="Permalink to &quot;ä½¿ç”¨ promise&quot;">â€‹</a></h4><ul><li>promise åªèƒ½åˆ‡æ¢ä¸€æ¬¡çŠ¶æ€;</li><li>é»˜è®¤çŠ¶æ€ä¸º pending;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reject, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p));</span></span></code></pre></div><h4 id="è§£å†³å€¼å’Œæ‹’ç»ç†ç”±" tabindex="-1">è§£å†³å€¼å’Œæ‹’ç»ç†ç”± <a class="header-anchor" href="#è§£å†³å€¼å’Œæ‹’ç»ç†ç”±" aria-label="Permalink to &quot;è§£å†³å€¼å’Œæ‹’ç»ç†ç”±&quot;">â€‹</a></h4><ul><li>è§£å†³å€¼æˆ–æ‹’ç»ç†ç”±ä½œä¸º onResolved å’Œ onRejected çš„å”¯ä¸€å‚æ•°;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// foo</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reason)); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// bar</span></span></code></pre></div><h4 id="é”™è¯¯å¤„ç†" tabindex="-1">é”™è¯¯å¤„ç† <a class="header-anchor" href="#é”™è¯¯å¤„ç†" aria-label="Permalink to &quot;é”™è¯¯å¤„ç†&quot;">â€‹</a></h4><ul><li>Promise çš„é”™è¯¯å¤„ç†, åªèƒ½é€šè¿‡å¼‚æ­¥çš„ onRejected æ•è·;</li><li>promise æŠ¥é”™, åœ¨å…¶åçš„åŒæ­¥ä»£ç æ‰§è¡Œåæ‰ä¼šæŠ›å‡ºé”™è¯¯;</li><li>catch æ­£ç¡®å¤„ç†é”™è¯¯åè¿”å›ä¸€ä¸ª fulfilled çŠ¶æ€çš„ promise;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨ throw ä¼šè¿”å› rejected çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  throw</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Promise &lt;rejected&gt;: Error: foo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;foo&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// bar</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uncaught (in promise) Error: foo</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;begin asynchronous execution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bar&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;caught error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;continue asynchronous execution&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// begin asynchronous execution</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// caught error Error: bar</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// continue asynchronous execution</span></span></code></pre></div><h4 id="promiselike" tabindex="-1">promiseLike <a class="header-anchor" href="#promiselike" aria-label="Permalink to &quot;promiseLike&quot;">â€‹</a></h4><ul><li>å®ç° promiseLike æ¥å£çš„å¯¹è±¡ç­‰æ•ˆäº Promise;</li><li>promiseLike æ¥å£åªéœ€å®ç° then æ–¹æ³•;</li></ul><h3 id="_3-2-å¸¸ç”¨api" tabindex="-1">3.2 å¸¸ç”¨API <a class="header-anchor" href="#_3-2-å¸¸ç”¨api" aria-label="Permalink to &quot;3.2 å¸¸ç”¨API&quot;">â€‹</a></h3><h4 id="é™æ€resolve" tabindex="-1">é™æ€resolve() <a class="header-anchor" href="#é™æ€resolve" aria-label="Permalink to &quot;é™æ€resolve()&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸¤è€…ç­‰æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°è‹¥ä¸ºå€¼, è¿”å›å€¼ä¸º 123 çš„ fulfilled çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°è‹¥ä¸º promise, è¿”å› p1 æœ¬èº«</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p1);</span></span></code></pre></div><h4 id="é™æ€reject" tabindex="-1">é™æ€reject() <a class="header-anchor" href="#é™æ€reject" aria-label="Permalink to &quot;é™æ€reject()&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¸¤è€…ç­‰æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°è‹¥ä¸ºå€¼, è¿”å›å€¼ä¸º 123 çš„ rejected çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å‚æ•°è‹¥ä¸º promise, è¿”å›æ–°çš„ä¸ p1 ç­‰æ•ˆçš„ promise</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(p1); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// p1 å’Œ p2 ä¸æ˜¯ä¸€ä¸ªå®ä¾‹</span></span></code></pre></div><h4 id="å®ä¾‹then" tabindex="-1">å®ä¾‹then() <a class="header-anchor" href="#å®ä¾‹then" aria-label="Permalink to &quot;å®ä¾‹then()&quot;">â€‹</a></h4><ul><li>åœ¨ p1 è¿›å…¥å¯¹åº”çš„ resolve æˆ– reject çŠ¶æ€æ—¶, è§£åŒ… p1 è¿”å›çš„ promise å€¼ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°;</li><li>ç«‹åˆ»è¿”å›ä¸€ä¸ªæ–°çš„ä¸ p1 ç­‰æ•ˆçš„ pending çŠ¶æ€çš„ promise å®ä¾‹;</li><li>è‹¥ä¸æŠ¥é”™è¿”å›ä¸€ä¸ªä¸ p1 ç­‰æ•ˆçš„çš„ fulfilled çŠ¶æ€çš„ promise çš„å®ä¾‹, åä¹‹è¿”å› rejected çŠ¶æ€çš„ promise å®ä¾‹;</li><li>onFulfilled çœç•¥ä½¿ç”¨ (x) =&gt; x æ›¿æ¢;</li><li>onRejected çœç•¥ ä½¿ç”¨ (x) =&gt; throw x æ›¿æ¢;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> p1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // resolve</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(value);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // reject</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reason);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›ä¸€ä¸ªå€¼ä¸º 1 çš„ fulfilled çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›ä¸€ä¸ªå€¼ä¸º undefined çš„ fulfilled çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {});</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›ä¸€ä¸ªå€¼ä¸º 123 çš„ fulfilled çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿”å›ä¸€ä¸ªå€¼ä¸º 123 çš„ rejected çŠ¶æ€çš„ promise</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">));</span></span></code></pre></div><h4 id="å®ä¾‹catch" tabindex="-1">å®ä¾‹catch() <a class="header-anchor" href="#å®ä¾‹catch" aria-label="Permalink to &quot;å®ä¾‹catch()&quot;">â€‹</a></h4><ul><li>Promise.prototype.then(null, onRejected) çš„è¯­æ³•ç³–;</li><li>ç«‹åˆ»è¿”å›ä¸€ä¸ªæ–°çš„ pending çŠ¶æ€çš„ç­‰ä»·çš„ Promise å®ä¾‹;</li><li>è‹¥ä¸æŠ¥é”™æœ€ç»ˆè¿”å›ä¸€ä¸ªæ–°çš„ fulfilled çŠ¶æ€çš„ç­‰ä»·çš„ promise, åä¹‹è¿”å›æŠ¥é”™ç”Ÿæˆçš„ rejected çŠ¶æ€çš„ promise;</li></ul><h4 id="å®ä¾‹finally" tabindex="-1">å®ä¾‹finally() <a class="header-anchor" href="#å®ä¾‹finally" aria-label="Permalink to &quot;å®ä¾‹finally()&quot;">â€‹</a></h4><ul><li>æ€»ä¼šæ‰§è¡Œ;</li><li>ç«‹åˆ»è¿”å›ä¸€ä¸ªæ–°çš„ pending çŠ¶æ€çš„ç­‰ä»·çš„ Promise å®ä¾‹;</li><li>è‹¥ä¸æŠ¥é”™æœ€ç»ˆè¿”å›ä¸€ä¸ªæ–°çš„ fulfilled çŠ¶æ€çš„ç­‰ä»·çš„ promise, åä¹‹è¿”å›æŠ¥é”™ç”Ÿæˆçš„ rejected çŠ¶æ€çš„ promise;</li></ul><h4 id="é™æ€all" tabindex="-1">é™æ€all() <a class="header-anchor" href="#é™æ€all" aria-label="Permalink to &quot;é™æ€all()&quot;">â€‹</a></h4><ul><li>æ‰€æœ‰ promise å¼‚æ­¥è®¡ç®—;</li><li>åˆæˆ iterable ä¸­çš„æ‰€æœ‰ promise, åœ¨æ‰€æœ‰ promise è§£å†³åå†è¿”å›è§£å†³;</li><li>è‹¥å…¨éƒ¨è§£å†³, è¿”å› iterable çš„è§£å†³å€¼æ•°ç»„; <ul><li>æ•°ç»„é¡ºåºå’Œ iterable ä¸­ promise é¡ºåºä¸€è‡´;</li></ul></li><li>è‹¥å­˜åœ¨ promise æ‹’ç», è¿”å›ç›¸åŒçŠ¶æ€çš„ promise; <ul><li>ç¬¬ä¸€ä¸ªæ‹’ç»çš„ promise ä½œä¸ºæ‹’ç»ç†ç”±, å…¶ä½™ promise ä¸å¤„ç†;</li></ul></li></ul><h4 id="é™æ€allsettled" tabindex="-1">é™æ€allSettled() <a class="header-anchor" href="#é™æ€allsettled" aria-label="Permalink to &quot;é™æ€allSettled()&quot;">â€‹</a></h4><ul><li>æ‰€æœ‰ promise å¼‚æ­¥è®¡ç®—;</li><li>åˆæˆ iterable ä¸­çš„æ‰€æœ‰ promise, åœ¨æ‰€æœ‰ promise è§£å†³æˆ–æ‹’ç»ååå†è¿”å›è§£å†³; <ul><li>è¯¥ API æ°¸è¿œä¸ä¼šå­˜åœ¨æ‹’ç»çŠ¶æ€;</li></ul></li><li>è¿”å›ä¸€ä¸ªåŒ…å«å„ promise çŠ¶æ€å’Œå¯¹åº”å€¼çš„æ•°ç»„; <ul><li>æ•°ç»„é¡ºåºå’Œ iterable ä¸­ promise é¡ºåºä¸€è‡´;</li></ul></li></ul><h4 id="é™æ€any" tabindex="-1">é™æ€any() <a class="header-anchor" href="#é™æ€any" aria-label="Permalink to &quot;é™æ€any()&quot;">â€‹</a></h4><ul><li>åˆæˆ iterable ä¸­çš„æ‰€æœ‰ promise, åœ¨ä»»ä¸€ promise è§£å†³åè¿”å›è§£å†³; <ul><li>å¯¹åº” promise ä½œä¸ºè§£å†³å€¼;</li></ul></li><li>è‹¥å…¨éƒ¨æ‹’ç», è¿”å› iterable çš„æ‹’ç»å€¼æ•°ç»„;</li></ul><h4 id="é™æ€race" tabindex="-1">é™æ€race() <a class="header-anchor" href="#é™æ€race" aria-label="Permalink to &quot;é™æ€race()&quot;">â€‹</a></h4><ul><li>åˆæˆ iterable ä¸­çš„æ‰€æœ‰ promise, åœ¨ä»»ä¸€ promise è§£å†³æˆ–æ‹’ç»åå†è¿”å›;</li><li>å¯¹åº” promise ä½œä¸ºè§£å†³å€¼/æ‹’ç»å€¼;</li></ul><h4 id="é™æ€all-any-race-æ˜¯å¦ç»ˆæ­¢å…¶ä»–-promise" tabindex="-1">é™æ€all,any,race æ˜¯å¦ç»ˆæ­¢å…¶ä»– promise <a class="header-anchor" href="#é™æ€all-any-race-æ˜¯å¦ç»ˆæ­¢å…¶ä»–-promise" aria-label="Permalink to &quot;é™æ€all,any,race æ˜¯å¦ç»ˆæ­¢å…¶ä»– promise&quot;">â€‹</a></h4><ul><li>ä¸‰è€…è¿”å›ç»“æœå, å¹¶ä¸ä¼šç»ˆæ­¢å…¶ä»– promise çš„æ‰§è¡Œ, ä½†æ˜¯æ— æ³•è·å¾—å…¶æ‰§è¡Œç»“</li></ul><h2 id="å››ã€async-await" tabindex="-1">å››ã€async/await <a class="header-anchor" href="#å››ã€async-await" aria-label="Permalink to &quot;å››ã€async/await&quot;">â€‹</a></h2><h3 id="async" tabindex="-1">async <a class="header-anchor" href="#async" aria-label="Permalink to &quot;async&quot;">â€‹</a></h3><h4 id="å£°æ˜-async" tabindex="-1">å£°æ˜ async <a class="header-anchor" href="#å£°æ˜-async" aria-label="Permalink to &quot;å£°æ˜ async&quot;">â€‹</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bar</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {};</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> baz</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span></code></pre></div><h4 id="è¿”å›å€¼" tabindex="-1">è¿”å›å€¼ <a class="header-anchor" href="#è¿”å›å€¼" aria-label="Permalink to &quot;è¿”å›å€¼&quot;">â€‹</a></h4><ul><li>ç«‹åˆ»è¿”å›ä¸€ä¸ª pending çŠ¶æ€çš„ Promise;</li><li>ä»£ç è¿è¡ŒæˆåŠŸè¿”å› resolve çŠ¶æ€çš„ promise;</li><li>ä»£ç æŠ¥é”™è¿”å› rejected çŠ¶æ€çš„ promise;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3</span></span></code></pre></div><h4 id="é”™è¯¯å¤„ç†-1" tabindex="-1">é”™è¯¯å¤„ç† <a class="header-anchor" href="#é”™è¯¯å¤„ç†-1" aria-label="Permalink to &quot;é”™è¯¯å¤„ç†&quot;">â€‹</a></h4><ul><li>ä½¿ç”¨ throw ä¼šè¿”å› rejected çŠ¶æ€çš„ promise;</li><li>è¿”å› Promise.reject(3) è¿›å…¥ catch;</li><li>ä½¿ç”¨ Promise.reject(3) ç›´æ¥æŠ¥é”™;</li></ul><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  throw</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(console.log);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">foo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error));</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Uncaught (in promise): 3</span></span></code></pre></div><h4 id="async-çš„ä¼ æŸ“æ€§" tabindex="-1">async çš„ä¼ æŸ“æ€§ <a class="header-anchor" href="#async-çš„ä¼ æŸ“æ€§" aria-label="Permalink to &quot;async çš„ä¼ æŸ“æ€§&quot;">â€‹</a></h4><ul><li>åº•å±‚å‡½æ•°ä½¿ç”¨äº† async;</li><li>åŸºäºå…¶çš„è°ƒç”¨é“¾å¿…é¡»ä½¿ç”¨ await;</li><li>æˆ–è€…ä½¿ç”¨ Promise.then() åœæ­¢ä¼ æŸ“;</li></ul>`,66)]))}const y=i(h,[["render",k]]);export{g as __pageData,y as default};
