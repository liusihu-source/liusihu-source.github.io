import{_ as s,c as a,a2 as i,o as l}from"./chunks/framework.BQmytedh.js";const e="/assets/640.U9aiIzwJ.webp",n="/assets/640-1732419999664-5.fLQ-xLK2.webp",r="/assets/640-1732423620514-8.b4a7B5op.webp",h="/assets/640-1732423791913-11.DYc_atRU.webp",o="data:image/webp;base64,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",p="/assets/640-1732424287273-17.o_DqjDts.webp",d="/assets/640-1732424323173-20.Bk8dgtcP.webp",g="/assets/640-1732424438860-23.BN1q0Pm9.webp",k="/assets/640-1732424455292-26.DdW3OkqO.webp",c="/assets/640-1732426824994-29.CRLNMhEE.webp",E="/assets/640-1732427314370-32.BgNxmGSs.webp",b="/assets/640-1732429672996-38.CiDCvj_I.webp",y="/assets/640-1732429530746-35.CDJpf39E.webp",f="/assets/640-1732429738177-41.DFhXOnU7.webp",m="/assets/640-1732429791708-44.BvW9Cc93.webp",O=JSON.parse('{"title":"浏览器进程","description":"","frontmatter":{},"headers":[],"relativePath":"前端/浏览器/浏览器进程/浏览器进程.md","filePath":"前端/浏览器/浏览器进程/浏览器进程.md","lastUpdated":1767866075000}'),u={name:"前端/浏览器/浏览器进程/浏览器进程.md"};function A(x,t,D,P,w,S){return l(),a("div",null,t[0]||(t[0]=[i('<h1 id="浏览器进程" tabindex="-1">浏览器进程 <a class="header-anchor" href="#浏览器进程" aria-label="Permalink to &quot;浏览器进程&quot;">​</a></h1><p><img src="'+e+'" alt="图片"></p><h2 id="一、渲染进程-render-process" tabindex="-1">一、渲染进程(Render Process) <a class="header-anchor" href="#一、渲染进程-render-process" aria-label="Permalink to &quot;一、渲染进程(Render Process)&quot;">​</a></h2><blockquote><p><code>浏览器的渲染进程</code>，<strong>将静态资源转化为可视化界面：</strong></p><ol><li><strong>DOM树构建</strong>：字节数据 &gt; 字符串 &gt; 词Token &gt; Node节点 &gt; Dom树</li><li>CSSOM树构建：CSS解析器解析转化为CSS对象，构建CSSOM树</li><li>渲染树构建：根据DOM树 和 CSS规则树构建渲染树（只包含需要显示的节点）</li><li>页面布局(回流)：计算各个元素大小 和 位置等布局信息</li><li>页面绘制（重绘）：GPU绘制每个元素到单独层，后续层叠合成。当后续与用户交互（删除元素 改窗口大小等），会重新布局和绘制 <ol><li>回流一定重绘，但重绘不一定回流（如只改一个字符值）</li></ol></li></ol></blockquote><p><img src="'+n+'" alt="图片"></p><h3 id="_2-1-dom树构建" tabindex="-1">2.1 DOM树构建 <a class="header-anchor" href="#_2-1-dom树构建" aria-label="Permalink to &quot;2.1 DOM树构建&quot;">​</a></h3><p>HTML解析器将HTML字节流转为DOM结构，转化过程如下</p><p><img src="'+r+`" alt="图片"></p><h4 id="_2-1-1-字符流-词" tabindex="-1">2.1.1 字符流 -&gt; 词 <a class="header-anchor" href="#_2-1-1-字符流-词" aria-label="Permalink to &quot;2.1.1 字符流 -&gt; 词&quot;">​</a></h4><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello world&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>如上代码，可拆成词</p><p><img src="`+h+`" alt="图片"></p><p>状态机：用作词法分析，将字节流拆分独立的状态</p><h4 id="_2-1-2-词-dom树" tabindex="-1">2.1.2 词 -&gt; DOM树 <a class="header-anchor" href="#_2-1-2-词-dom树" aria-label="Permalink to &quot;2.1.2 词 -&gt; DOM树&quot;">​</a></h4><p>通过<strong>栈结构</strong>来实现</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello juejin&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;hello world&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><ol><li><p>开始时，HTML解析器会创建一个根为 document 的空的 DOM 结构，同时将 StartTag document 的Token压入栈中，然后再将解析出来的第一个 StartTag html 压入栈中，并创建一个 html 的DOM节点，添加到 document 上，这时 Token 栈和 DOM树 如下：</p><p><img src="`+o+'" alt="640-1732424218287-14"></p></li><li><p>接下来body和div标签也会和上面的过程一样，进行入栈操作（第二个html写错，应是body）</p><p><img src="'+p+'" alt="640-1732424287273-17"></p></li><li><p>随后就会解析到 div标签中的文本Token，渲染引擎会为该 Token 创建一个文本节点，并将该 Token 添加到 DOM 中，它的父节点就是当前 Token 栈顶元素对应的节点</p><p><img src="'+d+'" alt="640-1732424323173-20"></p></li><li><p>接下来就是第一个EndTag div，这时 HTML 解析器会判断当前栈顶元素是否是 StartTag div，如果是，则从栈顶弹出 StartTag div，如下图所示：</p><p><img src="'+g+'" alt="640-1732424438860-23"></p></li><li><p>再之后的过程就和上面类似了，最终的结果如下：</p><p><img src="'+k+'" alt="640-1732424455292-26"></p></li></ol><h3 id="_2-2-cssom树构建" tabindex="-1">2.2 CSSOM树构建 <a class="header-anchor" href="#_2-2-cssom树构建" aria-label="Permalink to &quot;2.2 CSSOM树构建&quot;">​</a></h3><ul><li>需要将css代码转换为CSSOM树浏览器才能识别</li><li>通过<code>document.styleSheets</code>命令来查看CSSOM树</li></ul><p>把内部样式、外部样式、内联样式、导入样式等全部加载完毕，根据优先级确定样式</p><p>CSS常见选择器的优先级如下：</p><table tabindex="0"><thead><tr><th style="text-align:left;"><strong>选择器</strong></th><th style="text-align:left;"><strong>格式</strong></th><th style="text-align:left;"><strong>优先级权重</strong></th></tr></thead><tbody><tr><td style="text-align:left;">id选择器</td><td style="text-align:left;">#id</td><td style="text-align:left;">100</td></tr><tr><td style="text-align:left;">类选择器</td><td style="text-align:left;">.classname</td><td style="text-align:left;">10</td></tr><tr><td style="text-align:left;">属性选择器</td><td style="text-align:left;">a[ref=“eee”]</td><td style="text-align:left;">10</td></tr><tr><td style="text-align:left;">伪类选择器</td><td style="text-align:left;">li:last-child</td><td style="text-align:left;">10</td></tr><tr><td style="text-align:left;">标签选择器</td><td style="text-align:left;">div</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">伪元素选择器</td><td style="text-align:left;">li:after</td><td style="text-align:left;">1</td></tr><tr><td style="text-align:left;">相邻兄弟选择器</td><td style="text-align:left;">h1+p</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">子选择器</td><td style="text-align:left;">ul&gt;li</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">后代选择器</td><td style="text-align:left;">li a</td><td style="text-align:left;"></td></tr><tr><td style="text-align:left;">通配符选择器</td><td style="text-align:left;">*</td><td style="text-align:left;"></td></tr></tbody></table><h3 id="_2-3-渲染树构建" tabindex="-1">2.3 渲染树构建 <a class="header-anchor" href="#_2-3-渲染树构建" aria-label="Permalink to &quot;2.3 渲染树构建&quot;">​</a></h3><blockquote><p>是 DOM 树和 CSSOM 树的结合，会得到一个可以知道每个节点会应用什么样式的数据结构。</p><ul><li>在 Chrome 里会在每个节点上使用 attach() 方法，把 CSSOM 树的节点挂在 DOM 树上作为渲染树。</li><li>在 Firefox 里会单独构造一个新的结构， 用来连接 DOM 树和 CSSOM 树的映射关系。</li></ul><p>这个结合过程遍历DOM树中所有可见节点，并把这些节点加到布局中，而不可见的节点会被布局树忽略掉</p></blockquote><p><img src="'+c+'" alt="图片"></p><h3 id="_2-4-页面布局" tabindex="-1">2.4 页面布局 <a class="header-anchor" href="#_2-4-页面布局" aria-label="Permalink to &quot;2.4 页面布局&quot;">​</a></h3><p>遍历渲染树，计算渲染树上每个节点所占空间的大小和位置（得到元素间的盒模型），相应的信息被写回渲染树上，即布局渲染树</p><p><img src="'+E+'" alt="图片"></p><h3 id="_2-5-页面绘制" tabindex="-1">2.5 页面绘制 <a class="header-anchor" href="#_2-5-页面绘制" aria-label="Permalink to &quot;2.5 页面绘制&quot;">​</a></h3><p>页面的图层信息可通过chrome的layers标签查看</p><p><img src="'+b+'" alt="640-1732429672996-38"></p><h4 id="_2-5-1-构建图层" tabindex="-1">2.5.1 构建图层 <a class="header-anchor" href="#_2-5-1-构建图层" aria-label="Permalink to &quot;2.5.1 构建图层&quot;">​</a></h4><p>针对绘制信息的生成特定图层，一般会对如下进行分层处理</p><p><img src="'+y+'" alt="640-1732429530746-35"></p><p>💡 对于overflow超出的元素，出现scroll的也会被提升为单独的图层</p><h4 id="_2-5-2-绘制图层" tabindex="-1">2.5.2 绘制图层 <a class="header-anchor" href="#_2-5-2-绘制图层" aria-label="Permalink to &quot;2.5.2 绘制图层&quot;">​</a></h4><p>图层构建后，分为绘制列表制定 和 绘制操作。</p><p>绘制列表制定：<strong>会把每个图层的绘制分成很多绘制指令，然后把这些指令按照顺序组成一个待绘制的列表：</strong></p><p><img src="'+f+'" alt="640-1732429738177-41"></p><p><img src="'+m+'" alt="640-1732429791708-44"></p><p>绘制操作：<strong>由渲染引擎中合成线程完成，该线程不影响浏览器运行主进程</strong></p><ul><li>针对长页面，会分块处理（类似GIS中的图层切片256*256 或 512 * 512），然后将这些图块<code>光栅化处理</code>（生成位图的过程），最后显示到屏幕上。</li></ul><h3 id="_2-6-总结" tabindex="-1">2.6 总结 <a class="header-anchor" href="#_2-6-总结" aria-label="Permalink to &quot;2.6 总结&quot;">​</a></h3><ol><li>将HTML内容构建成DOM树；</li><li>将CSS内容构建成CSSOM树；</li><li>将DOM 树和 CSSOM 树合成渲染树；</li><li>根据渲染树进行页面元素的布局；</li><li>对渲染树进行分层操作，并生成分层树； <ol><li><p>为每个图层生成绘制列表，并提交到合成线程</p></li><li><p>合成线程给浏览器进程发送绘制图块指令</p><ul><li>合成线程将图层分成不同的图块，栅格化转化位图；</li></ul></li><li><p>浏览器进程会生成页面，并显示在屏幕上。</p></li></ol></li></ol><h2 id="二、网络进程-network-process" tabindex="-1">二、网络进程(NetWork Process) <a class="header-anchor" href="#二、网络进程-network-process" aria-label="Permalink to &quot;二、网络进程(NetWork Process)&quot;">​</a></h2><h2 id="三、浏览器主进程-browser-process" tabindex="-1">三、浏览器主进程(Browser Process) <a class="header-anchor" href="#三、浏览器主进程-browser-process" aria-label="Permalink to &quot;三、浏览器主进程(Browser Process)&quot;">​</a></h2><h2 id="四、gpu进程-gpu-process" tabindex="-1">四、GPU进程(GPU Process) <a class="header-anchor" href="#四、gpu进程-gpu-process" aria-label="Permalink to &quot;四、GPU进程(GPU Process)&quot;">​</a></h2><h2 id="五、插件进程-plugin-process" tabindex="-1">五、插件进程(Plugin Process) <a class="header-anchor" href="#五、插件进程-plugin-process" aria-label="Permalink to &quot;五、插件进程(Plugin Process)&quot;">​</a></h2>',48)]))}const M=s(u,[["render",A]]);export{O as __pageData,M as default};
