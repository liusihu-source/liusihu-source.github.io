import{_ as i,c as a,a2 as n,o as h}from"./chunks/framework.BQmytedh.js";const p="/assets/image-20231106130752043.DqaIvFAL.png",k="/assets/image-20231106131255035.CJs-Fq3x.png",F=JSON.parse('{"title":"Json Web Token","description":"","frontmatter":{},"headers":[],"relativePath":"åç«¯/Node/JWT.md","filePath":"åç«¯/Node/JWT.md","lastUpdated":1767767988000}'),l={name:"åç«¯/Node/JWT.md"};function t(e,s,E,r,d,g){return h(),a("div",null,s[0]||(s[0]=[n('<h1 id="json-web-token" tabindex="-1">Json Web Token <a class="header-anchor" href="#json-web-token" aria-label="Permalink to &quot;Json Web Token&quot;">â€‹</a></h1><blockquote><p><a href="https://blog.csdn.net/weixin_43263566/article/details/126990129" target="_blank" rel="noreferrer">https://blog.csdn.net/weixin_43263566/article/details/126990129</a></p></blockquote><h2 id="ä¸€ã€æ¦‚å¿µ" tabindex="-1">ä¸€ã€æ¦‚å¿µ <a class="header-anchor" href="#ä¸€ã€æ¦‚å¿µ" aria-label="Permalink to &quot;ä¸€ã€æ¦‚å¿µ&quot;">â€‹</a></h2><p>å…¨ç§° JSON Web TOKENï¼Œä¸€ç§<code>è·¨åŸŸè®¤è¯è§£å†³æ–¹æ¡ˆ</code></p><h2 id="äºŒã€jwtå·¥ä½œåŸç†" tabindex="-1">äºŒã€JWTå·¥ä½œåŸç† <a class="header-anchor" href="#äºŒã€jwtå·¥ä½œåŸç†" aria-label="Permalink to &quot;äºŒã€JWTå·¥ä½œåŸç†&quot;">â€‹</a></h2><p>ğŸ’¡ ç”¨æˆ·çš„ä¿¡æ¯é€šè¿‡Tokenå­—ç¬¦ä¸²çš„å½¢å¼ï¼Œä¿å­˜åœ¨å®¢æˆ·ç«¯æµè§ˆå™¨ä¸­ï¼ŒæœåŠ¡å™¨é€šè¿‡è¿˜åŸTokenå­—ç¬¦ä¸²çš„å½¢å¼è¿›è€Œè®¤è¯ç”¨æˆ·çš„èº«ä»½ã€‚</p><p><img src="'+p+'" alt="image-20231106130752043"></p><h2 id="ä¸‰ã€jwtç»„æˆéƒ¨åˆ†" tabindex="-1">ä¸‰ã€JWTç»„æˆéƒ¨åˆ† <a class="header-anchor" href="#ä¸‰ã€jwtç»„æˆéƒ¨åˆ†" aria-label="Permalink to &quot;ä¸‰ã€JWTç»„æˆéƒ¨åˆ†&quot;">â€‹</a></h2><p>JWTç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯Headerå¤´éƒ¨ã€Payloadæœ‰æ•ˆè·è½½ï¼ŒSignatureç­¾åã€‚ä¸‰è€…ä¹‹é—´ä½¿ç”¨è‹±æ–‡çš„.åˆ†éš”ï¼Œæ ¼å¼å¦‚ä¸‹</p><p>Header.Payload.Signature</p><p><strong>å…·ä½“å­—ç¬¦ä¸²ç¤ºä¾‹</strong></p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTIsInVzZXJuYW1lIjoid3pqIiwicGFzc3dvcmQiOiIiLCJuaWNrbmFtZSI6Iuato-e7j-S6uiIsImVtYWlsIjoiMTI4NDUwMzI5OUBxcS5jb20iLCJ1c2VyX3BpYyI6IiIsInJvbGVfaWQiOjEsInJvbGVfbmFtZSI6Iui2hee6p-euoeeQhuWRmCIsImlzX2VuYWJsZWQiOjAsImlhdCI6MTY2Mjg4OTEzNywiZXhwIjoxNjYyOTI1MTM3fQ.D1MRl0v18cP-QlgAWxZO9-cwnNNQH-y-Db2ezAapfps</span></span></code></pre></div><ul><li>PayLoadéƒ¨åˆ†æ‰æ˜¯çœŸæ­£çš„ç”¨æˆ·ä¿¡æ¯ï¼Œå®ƒæ˜¯ç”¨æˆ·ä¿¡æ¯ç»è¿‡åŠ å¯†ä¹‹åç”Ÿæˆçš„å­—ç¬¦ä¸²</li><li>Header å’Œ Signature æ˜¯å®‰å…¨æ€§ç›¸å…³çš„éƒ¨åˆ†ï¼Œåªæ˜¯ä¸ºäº†ä¿è¯Tokençš„å®‰å…¨æ€§</li></ul><p><img src="'+k+`" alt="image-20231106131255035"></p><h2 id="å››ã€nodeç«¯ä½¿ç”¨jwt" tabindex="-1">å››ã€Nodeç«¯ä½¿ç”¨JWT <a class="header-anchor" href="#å››ã€nodeç«¯ä½¿ç”¨jwt" aria-label="Permalink to &quot;å››ã€Nodeç«¯ä½¿ç”¨JWT&quot;">â€‹</a></h2><h3 id="_4-1-å®‰è£…ç›¸å…³åŒ…-npm-i-jsonwebtoken-express-jwt" tabindex="-1">4.1 å®‰è£…ç›¸å…³åŒ… npm i jsonwebtoken express-jwt <a class="header-anchor" href="#_4-1-å®‰è£…ç›¸å…³åŒ…-npm-i-jsonwebtoken-express-jwt" aria-label="Permalink to &quot;4.1 å®‰è£…ç›¸å…³åŒ…  npm i jsonwebtoken express-jwt&quot;">â€‹</a></h3><ul><li>jsonwebtoken ç”¨äºç”Ÿæˆ JWT å­—ç¬¦ä¸²ï¼ˆä¹Ÿå°±æ˜¯ token ï¼‰</li><li>express-jwt ç”¨äºå°† JWT å­—ç¬¦ä¸²è§£æè¿˜åŸæˆ JSON å¯¹è±¡</li></ul><h3 id="_4-2-ä½¿ç”¨require-å¯¼å…¥åŒ…" tabindex="-1">4.2 ä½¿ç”¨require å¯¼å…¥åŒ… <a class="header-anchor" href="#_4-2-ä½¿ç”¨require-å¯¼å…¥åŒ…" aria-label="Permalink to &quot;4.2 ä½¿ç”¨require å¯¼å…¥åŒ…&quot;">â€‹</a></h3><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1.å¯¼å…¥ç”¨ä¸ç”Ÿæˆ JWT å­—ç¬¦ä¸²çš„åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jwt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;jsonwebtoken&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2.å¯¼å…¥ç”¨äºå°†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ JWT å­—ç¬¦ä¸²ï¼Œè§£æè¿˜åŸæˆ JSON å¯¹è±¡çš„åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> expressJWT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;express-jwt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="_4-3-å®šä¹‰secret-å¯†åŒ™" tabindex="-1">4.3 å®šä¹‰secret å¯†åŒ™ <a class="header-anchor" href="#_4-3-å®šä¹‰secret-å¯†åŒ™" aria-label="Permalink to &quot;4.3 å®šä¹‰secret å¯†åŒ™&quot;">â€‹</a></h3><p>ä¸ºäº†ä¿è¯ JWT å­—ç¬¦ä¸²çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢ JWT å­—ç¬¦ä¸²åœ¨ç½‘ç»œä¼ è¾“è¿‡ç¨‹ä¸­è¢«åˆ«äººç ´è§£ï¼Œæˆ‘ä»¬éœ€è¦ä¸“é—¨å®šä¹‰ä¸€ä¸ªç”¨äºåŠ å¯†å’Œè§£å¯†çš„ secret å¯†é’¥ï¼š</p><p>å½“ç”Ÿæˆ JWT å­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ secret å¯†é’¥å¯¹ç”¨æˆ·çš„ä¿¡æ¯è¿›è¡ŒåŠ å¯†ï¼Œæœ€ç»ˆå¾—åˆ°åŠ å¯†å¥½çš„ JWT å­—ç¬¦ä¸² å½“æŠŠ JWT å­—ç¬¦ä¸²è§£æè¿˜åŸæˆ JSON å¯¹è±¡çš„æ—¶å€™ï¼Œéœ€è¦ä½¿ç”¨ secret å¯†é’¥è¿›è¡Œè§£å¯†</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>// secret ç§˜é’¥æœ¬è´¨ï¼Œå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span>
<span class="line"><span> </span></span>
<span class="line"><span>const secretKey = &#39;itheima No ^_^&#39;</span></span></code></pre></div><h3 id="_4-4-ç™»å½•æˆåŠŸåç”Ÿæˆjwtå­—ç¬¦ä¸²-è¿”ç»™å®¢æˆ·ç«¯çš„localstorage" tabindex="-1">4.4 ç™»å½•æˆåŠŸåç”ŸæˆJWTå­—ç¬¦ä¸²ï¼ˆè¿”ç»™å®¢æˆ·ç«¯çš„localStorageï¼‰ <a class="header-anchor" href="#_4-4-ç™»å½•æˆåŠŸåç”Ÿæˆjwtå­—ç¬¦ä¸²-è¿”ç»™å®¢æˆ·ç«¯çš„localstorage" aria-label="Permalink to &quot;4.4 ç™»å½•æˆåŠŸåç”ŸæˆJWTå­—ç¬¦ä¸²ï¼ˆè¿”ç»™å®¢æˆ·ç«¯çš„localStorageï¼‰&quot;">â€‹</a></h3><p>è°ƒç”¨ jsonwebtoken åŒ…æä¾›çš„ sign() æ–¹æ³•ï¼Œå°†ç”¨æˆ·çš„ä¿¡æ¯åŠ å¯†æˆ JWT å­—ç¬¦ä¸²ï¼Œå“åº”ç»™å®¢æˆ·ç«¯ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// secret ç§˜é’¥æœ¬è´¨ï¼Œå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secretKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;itheima No ^_^&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/login&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // åˆ¤æ–­ç”¨æˆ·æäº¤çš„ç™»å½•ä¿¡æ¯æ˜¯å¦æ­£ç¡®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (req.body.username </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;adnin&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.body.password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;000000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, msg: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç™»å½•å¤±è´¥&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    msg: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç™»å½•æˆåŠŸ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è°ƒç”¨ jwt.sign() ç”Ÿæˆ JWT å­—ç¬¦ä¸²ï¼Œä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ï¼šç”¨æˆ·ä¿¡æ¯å¯¹è±¡ã€‚åŠ å¯†ç§˜é’¥ã€é…ç½®å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    token: jwt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ username: req.body.username, password: req.body.password }, secretKey, { expiresIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;30s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h3 id="_4-5-å°†jwtå­—ç¬¦ä¸²è¿˜åŸä¸ºjsonå¯¹è±¡" tabindex="-1">4.5 å°†JWTå­—ç¬¦ä¸²è¿˜åŸä¸ºJSONå¯¹è±¡ <a class="header-anchor" href="#_4-5-å°†jwtå­—ç¬¦ä¸²è¿˜åŸä¸ºjsonå¯¹è±¡" aria-label="Permalink to &quot;4.5 å°†JWTå­—ç¬¦ä¸²è¿˜åŸä¸ºJSONå¯¹è±¡&quot;">â€‹</a></h3><p>å®¢æˆ·ç«¯æ¯æ¬¡åœ¨è®¿é—®é‚£äº›æœ‰æƒé™æ¥å£çš„æ—¶å€™ï¼Œéƒ½éœ€è¦ä¸»åŠ¨é€šè¿‡è¯·æ±‚å¤´ä¸­çš„ Authorization å­—æ®µï¼Œå°† Token å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œèº«ä»½è®¤è¯ã€‚</p><p>æ­¤æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥é€šè¿‡ express-jwt è¿™ä¸ªä¸­é—´ä»¶ï¼Œè‡ªåŠ¨å°†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ Token è§£æè¿˜åŸæˆ JSON å¯¹è±¡ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¼å…¥ express æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> express</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;express&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åˆ›å»º express çš„æœåŠ¡å™¨å®ä¾‹</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> app</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> express</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TODO_01ï¼šå®‰è£…å¹¶å¯¼å…¥ JWT ç›¸å…³çš„ä¸¤ä¸ªåŒ…ï¼Œåˆ†åˆ«æ˜¯ jsonwebtoken å’Œ express-jwt ,npm  i jsonwebtoken express-jwt</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 1.å¯¼å…¥ç”¨ä¸ç”Ÿæˆ JWT å­—ç¬¦ä¸²çš„åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> jwt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;jsonwebtoken&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2.å¯¼å…¥ç”¨äºå°†å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„ JWT å­—ç¬¦ä¸²ï¼Œè§£æè¿˜åŸæˆ JSON å¯¹è±¡çš„åŒ…</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> expressJWT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;express-jwt&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å…è®¸è·¨åŸŸèµ„æºå…±äº«</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cors</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è§£æ post è¡¨å•æ•°æ®çš„ä¸­é—´ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bodyParser</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;body-parser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(bodyParser.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">urlencoded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ extended: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }))</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TODO_02ï¼šå®šä¹‰ secret å¯†é’¥ï¼Œå»ºè®®å°†å¯†é’¥å‘½åä¸º secretKey</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secretKey</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;itheima No ^_^&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TODO_04ï¼šæ³¨å†Œå°† JWT å­—ç¬¦ä¸²è§£æè¿˜åŸæˆ JSON å¯¹è±¡çš„ä¸­é—´ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä½¿ç”¨app.use() ç”¨æ¥æ³¨å†Œä¸­é—´ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// expressJWT({ secret: secretKey }) å°±æ˜¯ç”¨æ¥è§£æ Token çš„ä¸­é—´ä»¶</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// .unless({ path: [/^\\/api\\//] }) ç”¨æ¥æŒ‡å®šé‚£äº›æ¥å£ä¸éœ€è¦è®¿é—®æƒé™</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ³¨æ„ï¼šåªè¦é…ç½®æˆåŠŸäº† express-jwt è¿™ä¸ªä¸­é—´ä»¶ï¼Œå°±å¯ä»¥æŠŠè§£æå‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŒ‚è½½åˆ° req.user å±æ€§ä¸Š</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">expressJWT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ secret: secretKey }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unless</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ path: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">api</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] }))</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// expressJWT({secret: secretKey, algorithms: [&#39;HS256&#39;]})</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç™»å½•æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">post</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/api/login&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å°† req.body è¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œè½¬å­˜ä¸º userinfo å¸¸é‡</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> userinfo</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> req.body</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç™»å½•å¤±è´¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (userinfo.username </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> userinfo.password </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;000000&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">400</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç™»å½•å¤±è´¥ï¼&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      data: userinfo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç™»å½•æˆåŠŸ  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // TODO_03ï¼šåœ¨ç™»å½•æˆåŠŸä¹‹åï¼Œè°ƒç”¨ jwt.sign() æ–¹æ³•ç”Ÿæˆ JWT å­—ç¬¦ä¸²ã€‚å¹¶é€šè¿‡ token å±æ€§å‘é€ç»™å®¢æˆ·ç«¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ç™»å½•æˆåŠŸï¼&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‚æ•°1ï¼šç”¨æˆ·çš„ä¿¡æ¯å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‚æ•°2ï¼šåŠ å¯†çš„ç§˜é’¥</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å‚æ•°3ï¼šé…ç½®å¯¹è±¡ï¼Œå¯ä»¥é…ç½®å½“å‰ token çš„æœ‰æ•ˆæœŸ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è®°ä½ï¼šåƒä¸‡ä¸è¦æŠŠå¯†ç åŠ å¯†åˆ° token å­—ç¬¦ä¸­</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    token: jwt.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sign</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ username: req.body.username }, secretKey, { expiresIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;300s&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦å‘é€ç»™å®¢æˆ·ç«¯çš„ token å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¿™æ˜¯ä¸€ä¸ªæœ‰æƒé™çš„ API æ¥å£</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®¢æˆ·ç«¯æ¯æ¬¡åœ¨è®¿é—®é‚£äº›æœ‰æƒé™æ¥å£çš„æ—¶å€™ï¼Œéƒ½éœ€è¦ä¸»åŠ¨é€šè¿‡è¯·æ±‚å¤´ä¸­çš„ Authorization å­—æ®µï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å°† Token å­—ç¬¦ä¸²å‘é€åˆ°æœåŠ¡å™¨è¿›è¡Œèº«ä»½è®¤è¯ã€‚</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¾‹å¦‚ï¼šAuthorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiaWF0IjoxNjYxNzY4NjIxLCJleHAiOjE2NjE3Njg2NTF9.7uEDhiNtkdFNdAENrsKPIhzBXMJIIWMjmB9T95fl_Es</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/admin/getinfo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // TODO_05ï¼šä½¿ç”¨ req.user è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œå¹¶ä½¿ç”¨ data å±æ€§å°†ç”¨æˆ·ä¿¡æ¯å‘é€ç»™å®¢æˆ·ç«¯</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å½“ express-jwt è¿™ä¸ªä¸­é—´ä»¶é…ç½®æˆåŠŸä¹‹åï¼Œå³å¯åœ¨é‚£äº›æœ‰æƒé™çš„æ¥å£ä¸­ï¼Œä½¿ç”¨ req.user å¯¹è±¡ï¼Œ</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // æ¥è®¿é—®ä» JWT å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ä¸­è§£æå‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯äº†ï¼Œç¤ºä¾‹ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è·å–ç”¨æˆ·ä¿¡æ¯æˆåŠŸï¼&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    data: req.user </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¦å‘é€ç»™å®¢æˆ·ç«¯çš„ç”¨æˆ·ä¿¡æ¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TODO_06ï¼šä½¿ç”¨å…¨å±€é”™è¯¯å¤„ç†ä¸­é—´ä»¶ï¼Œæ•è·è§£æ JWT å¤±è´¥åäº§ç”Ÿçš„é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">err</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">req</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">next</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // token è§£æå¤±è´¥å¯¼è‡´çš„é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (err.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;UnauthorizedError&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">401</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æ— æ•ˆçš„token&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å…¶å®ƒåŸå› å¯¼è‡´çš„é”™è¯¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ status: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, message: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;æœªçŸ¥é”™è¯¯&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è°ƒç”¨ app.listen æ–¹æ³•ï¼ŒæŒ‡å®šç«¯å£å·å¹¶å¯åŠ¨webæœåŠ¡å™¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">listen</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8888</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Express server running at http://127.0.0.1:8888&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div>`,30)]))}const c=i(l,[["render",t]]);export{F as __pageData,c as default};
